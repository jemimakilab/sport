<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playbook 2026 - Fitness Tracker</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>PLAYBOOK 2026</h1>
            <p class="subtitle">Ziel: 89,9 kg bis 23. Dezember 2026</p>
            <p class="subtitle" id="currentDate" style="margin-top: 5px; font-size: 0.85rem;"></p>
        </header>

        <!-- Never Miss Twice Alert -->
        <div class="alert-banner" id="alertBanner">
            <h3>‚ö†Ô∏è NEVER MISS TWICE!</h3>
            <p>Du hast gestern kein Training gemacht. Heute ist NICHT verhandelbar!</p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" data-tab="dashboard">Dashboard</button>
            <button class="tab" data-tab="entry">Eintragen</button>
            <button class="tab" data-tab="charts">Grafik</button>
            <button class="tab" data-tab="achievements">Erfolge</button>
            <button class="tab" data-tab="history">Verlauf</button>
            <button class="tab" data-tab="workouts">Workouts</button>
            <button class="tab" data-tab="settings">‚öôÔ∏è</button>
        </div>

        <!-- XP Bar (shows on all tabs) -->
        <div class="xp-container" id="xpContainer">
            <div class="level-display">
                <div class="level-badge">
                    <div class="level-icon" id="levelIcon">1</div>
                    <div class="level-info">
                        <h3 id="levelTitle">Anf√§nger</h3>
                        <span id="totalXP">0 XP gesamt</span>
                    </div>
                </div>
            </div>
            <div class="xp-bar">
                <div class="xp-fill" id="xpFill" style="width: 0%"></div>
            </div>
            <div class="xp-text" id="xpText">0 / 100 XP zum n√§chsten Level</div>
        </div>

        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard">
            <!-- Progress Card -->
            <div class="card">
                <h2>üìä Fortschritt zum Ziel</h2>
                <div class="progress-container">
                    <div class="progress-header">
                        <span id="currentWeight">-- kg</span>
                        <span id="goalDisplay">Ziel: 89,9 kg</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="value" id="weightLost">--</div>
                        <div class="label">kg verloren</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="weightToGo">--</div>
                        <div class="label">kg noch</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="daysLeft">--</div>
                        <div class="label">Tage √ºbrig</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="weeklyAvg">--</div>
                        <div class="label">√ò 7 Tage</div>
                    </div>
                </div>
            </div>

            <!-- Scientific Goals Card -->
            <div class="card">
                <h2>üî¨ Wissenschaftliche Ziele</h2>
                <div class="scientific-goals">
                    <div class="bmi-display">
                        <div class="bmi-value" id="currentBMI">--</div>
                        <div class="bmi-category" id="bmiCategory">--</div>
                        <div class="bmi-bar">
                            <div class="bmi-zones">
                                <span class="zone zone-under">U</span>
                                <span class="zone zone-normal">N</span>
                                <span class="zone zone-over">√ú</span>
                                <span class="zone zone-obese1">A1</span>
                                <span class="zone zone-obese2">A2</span>
                            </div>
                            <div class="bmi-marker" id="bmiMarker"></div>
                        </div>
                    </div>
                    <div class="goals-grid">
                        <div class="goal-item">
                            <div class="goal-icon">ü•©</div>
                            <div class="goal-info">
                                <div class="goal-value" id="proteinGoal">--</div>
                                <div class="goal-label">Protein/Tag (1,5g/kg)</div>
                            </div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-icon">üî•</div>
                            <div class="goal-info">
                                <div class="goal-value" id="calorieGoal">--</div>
                                <div class="goal-label">Kalorien (Defizit)</div>
                            </div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-icon">üéØ</div>
                            <div class="goal-info">
                                <div class="goal-value" id="nextMilestone">--</div>
                                <div class="goal-label">N√§chstes Ziel</div>
                            </div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-icon">‚öñÔ∏è</div>
                            <div class="goal-info">
                                <div class="goal-value" id="idealWeight">--</div>
                                <div class="goal-label">Idealgewicht (BMI 22)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Streak Card -->
            <div class="card">
                <h2>üî• Training Streak</h2>
                <div class="streak-display">
                    <div class="streak-number" id="streakCount">0</div>
                    <div class="streak-label">Tage in Folge trainiert</div>
                </div>
            </div>

            <!-- Today's Training -->
            <div class="card">
                <h2>üí™ Heute</h2>
                <div class="training-type">
                    <span class="training-badge" id="todayBadge">--</span>
                </div>
                <div class="workout-details" id="todayWorkout">
                    <!-- Filled by JS -->
                </div>
            </div>

            <!-- Weekly Overview -->
            <div class="card">
                <h2>üìà Diese Woche</h2>
                <div class="weekly-avg">
                    <div class="weekly-item">
                        <div class="value" id="avgCalories">--</div>
                        <div class="label">√ò Kalorien</div>
                    </div>
                    <div class="weekly-item">
                        <div class="value" id="avgProtein">--</div>
                        <div class="label">√ò Protein</div>
                    </div>
                    <div class="weekly-item">
                        <div class="value" id="trainingDays">-/7</div>
                        <div class="label">Trainingstage</div>
                    </div>
                </div>
            </div>

            <!-- Quarter Goals -->
            <div class="card">
                <h2>üéØ Quartalsziele</h2>
                <div class="quarter-goals" id="quarterGoals">
                    <!-- Filled by JS -->
                </div>
            </div>
        </div>

        <!-- Entry Tab -->
        <div class="tab-content" id="entry">
            <div class="card">
                <h2>üìù Tageseintrag</h2>
                <form id="dailyForm">
                    <div class="form-group">
                        <label>Datum</label>
                        <input type="date" id="entryDate" required>
                    </div>
                    <div class="form-group">
                        <label>Kalorien</label>
                        <input type="number" id="entryCalories" min="0" max="10000" placeholder="z.B. 2300">
                    </div>
                    <div class="form-group">
                        <label>Protein (g)</label>
                        <input type="number" id="entryProtein" min="0" max="500" placeholder="z.B. 180">
                    </div>
                    <div class="form-group">
                        <label>Checkboxen</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="trainingDone">
                                <label for="trainingDone">‚úÖ Training</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="ifDone">
                                <label for="ifDone">‚è∞ IF 12-20</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="cheatDay">
                                <label for="cheatDay">üçï Cheat Day</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success">üíæ Speichern</button>
                </form>
            </div>

            <!-- Quick Stats After Entry -->
            <div class="card">
                <h2>‚ö° Schnell-Check</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="value" id="proteinStatus">--</div>
                        <div class="label">Protein heute</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="calorieStatus">--</div>
                        <div class="label">Kalorien heute</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Tab -->
        <div class="tab-content" id="charts">
            <!-- Weight Entry Form -->
            <div class="card">
                <h2>‚öñÔ∏è Gewicht eintragen</h2>
                <form id="weightForm" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: flex-end;">
                    <div class="form-group" style="flex: 1; min-width: 120px; margin-bottom: 0;">
                        <label>Datum</label>
                        <input type="date" id="weightDate" required>
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 120px; margin-bottom: 0;">
                        <label>Gewicht (kg)</label>
                        <input type="number" id="weightValue" step="0.1" min="50" max="200" placeholder="z.B. 103.5" required>
                    </div>
                    <button type="submit" class="btn btn-success" style="flex: 0 0 auto; padding: 12px 24px;">üíæ Speichern</button>
                </form>
                <p style="font-size: 0.8rem; color: var(--gray); margin-top: 10px;">üí° Tipp: Wiege dich jeden Donnerstag zur gleichen Zeit</p>
            </div>

            <div class="card">
                <h2>üìà Gewichtsverlauf</h2>
                <div class="time-filter">
                    <button class="time-btn active" data-days="7">7 Tage</button>
                    <button class="time-btn" data-days="14">14 Tage</button>
                    <button class="time-btn" data-days="30">30 Tage</button>
                    <button class="time-btn" data-days="90">3 Monate</button>
                    <button class="time-btn" data-days="365">1 Jahr</button>
                    <button class="time-btn" data-days="0">Alles</button>
                </div>
                <div class="chart-container">
                    <canvas id="weightChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #3b82f6;"></div>
                        <span>Gewicht</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #22c55e;"></div>
                        <span>7-Tage Durchschnitt</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f59e0b; opacity: 0.5;"></div>
                        <span>Ziel (89.9 kg)</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üìä Statistiken</h2>
                <div class="chart-stats" id="chartStats">
                    <div class="chart-stat">
                        <div class="value" id="chartHighest">--</div>
                        <div class="label">H√∂chstes</div>
                    </div>
                    <div class="chart-stat">
                        <div class="value" id="chartLowest">--</div>
                        <div class="label">Niedrigstes</div>
                    </div>
                    <div class="chart-stat">
                        <div class="value" id="chartAverage">--</div>
                        <div class="label">Durchschnitt</div>
                    </div>
                    <div class="chart-stat" id="chartChangeBox">
                        <div class="value" id="chartChange">--</div>
                        <div class="label">Ver√§nderung</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üéØ Prognose</h2>
                <div class="projection-info">
                    <h4 id="projectionTitle">Berechne...</h4>
                    <p id="projectionText">Basierend auf deinem bisherigen Fortschritt</p>
                </div>
                <div class="chart-stats" style="margin-top: 15px;">
                    <div class="chart-stat">
                        <div class="value" id="weeklyLoss">--</div>
                        <div class="label">√ò pro Woche</div>
                    </div>
                    <div class="chart-stat">
                        <div class="value" id="daysToGoal">--</div>
                        <div class="label">Tage bis Ziel</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div class="tab-content" id="achievements">
            <!-- Daily Challenges -->
            <div class="card">
                <h2>‚ö° T√§gliche Herausforderungen</h2>
                <div id="dailyChallenges">
                    <!-- Filled by JS -->
                </div>
            </div>

            <!-- Weekly Challenge -->
            <div class="card">
                <h2>üèÜ Wochenherausforderung</h2>
                <div id="weeklyChallenges">
                    <!-- Filled by JS -->
                </div>
            </div>

            <!-- Medals -->
            <div class="card">
                <h2>üèÖ Medaillen</h2>
                <div class="medals-grid" id="medalsGrid">
                    <!-- Filled by JS -->
                </div>
            </div>

            <!-- Total Stats -->
            <div class="card">
                <h2>üìä Gesamt-Statistiken</h2>
                <div class="total-stats">
                    <div class="total-stat">
                        <div class="num" id="totalTrainings">0</div>
                        <div class="lbl">Trainings</div>
                    </div>
                    <div class="total-stat">
                        <div class="num" id="totalMedals">0</div>
                        <div class="lbl">Medaillen</div>
                    </div>
                    <div class="total-stat">
                        <div class="num" id="bestStreak">0</div>
                        <div class="lbl">Bester Streak</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div class="tab-content" id="history">
            <div class="card">
                <h2>üìÖ Letzte 14 Tage</h2>
                <div class="history-list" id="historyList">
                    <!-- Filled by JS -->
                </div>
            </div>

            <!-- Monthly Stats -->
            <div class="card">
                <h2>üìä Monats√ºbersicht</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="value" id="monthStart">--</div>
                        <div class="label">Monatsstart</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="monthCurrent">--</div>
                        <div class="label">Aktuell</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="monthChange">--</div>
                        <div class="label">Ver√§nderung</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="monthTrainings">--</div>
                        <div class="label">Trainings</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Workouts Tab -->
        <div class="tab-content" id="workouts">
            <div class="card">
                <h2 style="color: #3b82f6;">üèÉ Tag A: Laufen</h2>
                <div class="workout-details">
                    <p><strong>Phase 1 (Jan W1-4):</strong> 15-30 Min locker</p>
                    <p><strong>Phase 2 (Feb-M√§rz):</strong> 30-45 Min, Intervalle</p>
                    <p><strong>Phase 3 (Apr-Okt):</strong> 40-60 Min Mix</p>
                    <p><strong>Phase 4 (Nov-Dez):</strong> Wintermodus</p>
                    <h4 style="margin-top: 15px;">Indoor-Backup:</h4>
                    <ul>
                        <li>Boxsack: 20-30 Min Intervalle</li>
                        <li>HIIT Bodyweight: 20-25 Min</li>
                        <li>Springseil: 15-20 Min</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2 style="color: #ef4444;">üí™ B1: Push (Brust, Schultern, Trizeps)</h2>
                <div class="workout-details">
                    <ul>
                        <li>KH-Bankdr√ºcken (Boden): 4x8-12</li>
                        <li>KH-Schulterdr√ºcken: 3x10-12</li>
                        <li>KH-Flys: 3x12-15</li>
                        <li>Liegest√ºtze: 3x max</li>
                        <li>KH-Trizepsdr√ºcken: 3x12</li>
                        <li>Dips: 3x max</li>
                        <li>Finisher: Boxsack 3x2 Min</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2 style="color: #3b82f6;">üí™ B2: Pull (R√ºcken, Bizeps)</h2>
                <div class="workout-details">
                    <ul>
                        <li>Klimmz√ºge: 4x max</li>
                        <li>KH-Rudern einarmig: 4x10-12</li>
                        <li>KH-Kreuzheben: 3x10-12</li>
                        <li>Face Pulls: 3x15</li>
                        <li>KH-Curls: 3x12</li>
                        <li>Hammer Curls: 3x12</li>
                        <li>Shrugs: 3x15</li>
                        <li>Finisher: Plank 3x45-60s</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2 style="color: #22c55e;">üí™ B3: Legs + Core</h2>
                <div class="workout-details">
                    <ul>
                        <li>Goblet Squats: 4x12-15</li>
                        <li>KH-Ausfallschritte: 3x10/Bein</li>
                        <li>Rum√§nisches Kreuzheben: 4x10-12</li>
                        <li>Bulgarian Split Squats: 3x10/Bein</li>
                        <li>Wadenheben: 3x20</li>
                        <li>Russian Twists: 3x20</li>
                        <li>Dead Bugs: 3x12</li>
                        <li>Finisher: Boxsack Kicks 3x2 Min</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2>üçΩÔ∏è Ern√§hrung Reminder</h2>
                <div class="workout-details">
                    <p><strong>IF-Fenster:</strong> 12:00 - 20:00 Uhr</p>
                    <p><strong>Kalorien:</strong> 2.100-2.400 kcal</p>
                    <p><strong>Protein:</strong> 180g minimum</p>
                    <p><strong>Cheat Day:</strong> Nur Samstag!</p>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings">
            <div class="card">
                <h2>‚öôÔ∏è Pers√∂nliche Einstellungen</h2>
                <p style="color: var(--gray); margin-bottom: 20px;">Diese Daten werden f√ºr die Berechnung deiner wissenschaftlichen Ziele verwendet.</p>

                <div class="settings-grid">
                    <div class="setting-item">
                        <label>Wunschgewicht</label>
                        <div class="slider-container">
                            <input type="range" id="settingTargetWeight" min="60" max="120" step="0.1" value="89.9">
                            <span class="slider-value" id="targetWeightValue">89.9 kg</span>
                        </div>
                        <p style="font-size: 0.8rem; color: var(--gray); margin-top: 5px;">√Ñndert automatisch alle Ziele und Berechnungen</p>
                    </div>

                    <div class="setting-item">
                        <label>Geschlecht</label>
                        <div class="gender-toggle">
                            <button type="button" class="gender-btn active" data-gender="male">‚ôÇ M√§nnlich</button>
                            <button type="button" class="gender-btn" data-gender="female">‚ôÄ Weiblich</button>
                        </div>
                    </div>

                    <div class="setting-item">
                        <label>K√∂rpergr√∂√üe</label>
                        <div class="slider-container">
                            <input type="range" id="settingHeight" min="150" max="210" value="183">
                            <span class="slider-value" id="heightValue">183 cm</span>
                        </div>
                    </div>

                    <div class="setting-item">
                        <label>Alter</label>
                        <div class="slider-container">
                            <input type="range" id="settingAge" min="16" max="80" value="26">
                            <span class="slider-value" id="ageValue">26 Jahre</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üèÉ Aktivit√§tslevel</h2>
                <p style="color: var(--gray); margin-bottom: 20px;">W√§hle dein Aktivit√§tslevel f√ºr angepasste Protein- und Kalorienziele.</p>

                <div class="activity-levels">
                    <button class="activity-btn" data-activity="sedentary">
                        <div class="activity-icon">ü™ë</div>
                        <div class="activity-info">
                            <div class="activity-name">Wenig aktiv</div>
                            <div class="activity-desc">Sitzende T√§tigkeit, kein Sport</div>
                            <div class="activity-stats">
                                <span>PAL: 1.2</span>
                                <span>Protein: 1.0g/kg</span>
                            </div>
                        </div>
                    </button>

                    <button class="activity-btn active" data-activity="moderate">
                        <div class="activity-icon">üö∂</div>
                        <div class="activity-info">
                            <div class="activity-name">Moderat aktiv</div>
                            <div class="activity-desc">Leichte Aktivit√§t, 2-3x Sport/Woche</div>
                            <div class="activity-stats">
                                <span>PAL: 1.5</span>
                                <span>Protein: 1.5g/kg</span>
                            </div>
                        </div>
                    </button>

                    <button class="activity-btn" data-activity="active">
                        <div class="activity-icon">üèÉ</div>
                        <div class="activity-info">
                            <div class="activity-name">Sehr aktiv</div>
                            <div class="activity-desc">Aktiver Job, 4-5x Sport/Woche</div>
                            <div class="activity-stats">
                                <span>PAL: 1.8</span>
                                <span>Protein: 1.8g/kg</span>
                            </div>
                        </div>
                    </button>

                    <button class="activity-btn" data-activity="athletic">
                        <div class="activity-icon">üí™</div>
                        <div class="activity-info">
                            <div class="activity-name">Athletisch</div>
                            <div class="activity-desc">Intensives Training, t√§glich</div>
                            <div class="activity-stats">
                                <span>PAL: 2.2</span>
                                <span>Protein: 2.2g/kg</span>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <div class="card">
                <h2>üìä Aktuelle Werte (Vorschau)</h2>
                <div class="preview-grid" id="settingsPreview">
                    <!-- Filled by JS -->
                </div>
            </div>

            <div class="card">
                <h2>üìê Verwendete Formeln</h2>
                <div class="formula-grid">
                    <div class="formula-item">
                        <h4>BMI</h4>
                        <code>Gewicht / (Gr√∂√üe in m)¬≤</code>
                    </div>
                    <div class="formula-item">
                        <h4>Grundumsatz (Mifflin-St. Jeor)</h4>
                        <code>‚ôÇ: 10√ókg + 6.25√ócm - 5√óAlter + 5</code>
                        <code>‚ôÄ: 10√ókg + 6.25√ócm - 5√óAlter - 161</code>
                    </div>
                    <div class="formula-item">
                        <h4>Tagesbedarf (TDEE)</h4>
                        <code>Grundumsatz √ó PAL-Faktor</code>
                    </div>
                    <div class="formula-item">
                        <h4>Protein</h4>
                        <code>Gewicht √ó Aktivit√§tsfaktor</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reward Unlock Modal -->
    <div class="reward-unlock-overlay" id="rewardOverlay"></div>
    <div class="reward-unlock" id="rewardModal">
        <div class="reward-icon" id="rewardIcon">üèÜ</div>
        <div class="reward-title" id="rewardTitle">Neue Medaille!</div>
        <div class="reward-xp" id="rewardXP">+50 XP</div>
        <button class="reward-close" onclick="closeRewardModal()">Weiter</button>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/storage.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gamification.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
